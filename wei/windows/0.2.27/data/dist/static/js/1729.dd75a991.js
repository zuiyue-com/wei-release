/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-10-19 19:31:27
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[1729],{61729:function(e,r,l){l.r(r),l.d(r,{default:function(){return R}});var t=l(73632),o=(l(3241),l(74965),l(20129)),a=(l(69840),l(15659)),i=(l(10444),l(6589),l(57018)),s=(l(74367),l(22040)),n=(l(99426),l(66252)),d=l(3577),u=l(49963);const m=e=>((0,n.dD)("data-v-29a185ee"),e=e(),(0,n.Cn)(),e),p={class:"register-container"},c=m((()=>(0,n._)("div",{style:{color:"transparent"}},"占位符",-1))),f=m((()=>(0,n._)("div",{class:"title"},"hello !",-1))),w={class:"title-tips"},g=m((()=>(0,n._)("div",{style:{color:"transparent"}},"占位符",-1)));function h(e,r,l,m,h,v){const _=s.Dv,W=(0,n.up)("vab-icon"),y=i.EZ,C=o.nH,x=a.ElButton,b=(0,n.up)("router-link"),k=o.ly,I=t.dq,V=(0,n.Q2)("focus");return(0,n.wg)(),(0,n.iD)("div",p,[(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{lg:14,md:11,sm:24,xl:14,xs:24},{default:(0,n.w5)((()=>[c])),_:1}),(0,n.Wm)(_,{lg:9,md:12,sm:24,xl:9,xs:24},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{ref:"registerFormRef",class:"register-form",model:e.form,rules:e.registerRules},{default:(0,n.w5)((()=>[f,(0,n._)("div",w,(0,d.zw)(e.translateTitle("注册")),1),(0,n.Wm)(C,{prop:"username"},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(y,{modelValue:e.form.username,"onUpdate:modelValue":r[0]||(r[0]=r=>e.form.username=r),modelModifiers:{trim:!0},"auto-complete":"off",placeholder:e.translateTitle("请输入用户名"),type:"text"},{prefix:(0,n.w5)((()=>[(0,n.Wm)(W,{icon:"user-line"})])),_:1},8,["modelValue","placeholder"])),[[V]])])),_:1}),(0,n.Wm)(C,{prop:"phone"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{modelValue:e.form.phone,"onUpdate:modelValue":r[1]||(r[1]=r=>e.form.phone=r),modelModifiers:{trim:!0},maxlength:"11",placeholder:e.translateTitle("请输入手机号"),"show-word-limit":"",type:"text"},{prefix:(0,n.w5)((()=>[(0,n.Wm)(W,{icon:"smartphone-line"})])),_:1},8,["modelValue","placeholder"])])),_:1}),(0,n.Wm)(C,{prop:"phoneCode",style:{position:"relative"}},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{modelValue:e.form.phoneCode,"onUpdate:modelValue":r[2]||(r[2]=r=>e.form.phoneCode=r),modelModifiers:{trim:!0},placeholder:e.translateTitle("请输入手机验证码"),type:"text"},{prefix:(0,n.w5)((()=>[(0,n.Wm)(W,{icon:"barcode-box-line"})])),_:1},8,["modelValue","placeholder"]),(0,n.Wm)(x,{class:"phone-code",disabled:e.isGetPhone,type:"primary",onClick:e.getPhoneCode},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(e.phoneCode),1)])),_:1},8,["disabled","onClick"])])),_:1}),(0,n.Wm)(C,{prop:"password"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{modelValue:e.form.password,"onUpdate:modelValue":r[3]||(r[3]=r=>e.form.password=r),modelModifiers:{trim:!0},autocomplete:"new-password",placeholder:e.translateTitle("请输入密码"),type:"password"},{prefix:(0,n.w5)((()=>[(0,n.Wm)(W,{icon:"lock-line"})])),_:1},8,["modelValue","placeholder"])])),_:1}),(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x,{class:"register-btn",type:"primary",onClick:(0,u.iM)(e.handleRegister,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(e.translateTitle("注册")),1)])),_:1},8,["onClick"])])),_:1}),(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b,{to:"/login"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(e.translateTitle("登录")),1)])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1}),(0,n.Wm)(_,{lg:1,md:1,sm:24,xl:1,xs:24},{default:(0,n.w5)((()=>[g])),_:1})])),_:1})])}l(57658);var v=l(7605),_=l(25498),W=l(12688),y=l(30582),C=l(2262),x=l(22201),b=(0,n.aZ)({name:"Register",directives:{focus:{inserted(e){e.querySelector("input").focus()}}},setup(){const e=(0,n.f3)("$baseConfirm"),r=(0,x.tv)(),l=(0,y.L)(),{setToken:t}=l,o=(e,r,l)=>{""===r?l(new Error((0,v.Iu)("用户名不能为空"))):l()},a=(e,r,l)=>{(0,_.L6)(r)?l():l(new Error((0,v.Iu)("密码不能少于6位")))},i=(e,r,l)=>{(0,_.Mn)(r)?l():l(new Error((0,v.Iu)("请输入正确的手机号")))},s=(0,C.qj)({registerFormRef:null,isGetPhone:!1,timer:null,phoneCode:(0,v.Iu)("获取验证码"),showRegister:!1,form:{},registerRules:{username:[{required:!0,trigger:"blur",message:(0,v.Iu)("请输入用户名")},{validator:o,trigger:"blur"}],phone:[{required:!0,trigger:"blur",message:(0,v.Iu)("请输入手机号")},{validator:i,trigger:"blur"}],password:[{required:!0,trigger:"blur",message:(0,v.Iu)("请输入密码")},{validator:a,trigger:"blur"}],phoneCode:[{required:!0,trigger:"blur",message:(0,v.Iu)("请输入手机验证码")}]},loading:!1,passwordType:"password"}),d=()=>{if(!(0,_.Mn)(s.form.phone))return void s["registerFormRef"].validateField("phone");s.isGetPhone=!0;let e=60;s.timer=setInterval((()=>{e>0?(e--,s.phoneCode=`${(0,v.Iu)("获取验证码 ")+e}s`):(clearInterval(s.timer),s.phoneCode=(0,v.Iu)("获取验证码"),s.timer=null,s.isGetPhone=!1)}),1e3)},u=()=>{s["registerFormRef"].validate((async l=>{if(l){const{msg:l,data:{token:o}}=await(0,W.z2)(s.form).catch((()=>{}));e(`${l}，点击确定模拟进入拥有【editor】角色的首页`,null,(async()=>{t(o),await r.push("/index")}))}}))};return(0,x.iS)(((e,r,l)=>{clearInterval(s.timer),l()})),{translateTitle:v.Iu,...(0,C.BK)(s),getPhoneCode:d,handleRegister:u}}});function k(e){e.__source="src/views/register/index.vue"}var I=l(83744);"function"===typeof k&&k(b);const V=(0,I.Z)(b,[["render",h],["__scopeId","data-v-29a185ee"]]);var R=V}}]);