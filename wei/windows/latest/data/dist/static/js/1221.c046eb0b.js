/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-10-21 18:47:55
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[1221,4014],{55034:function(e,t,l){l.d(t,{g8:function(){return n},gp:function(){return o},q1:function(){return r}});var a=l(52806);function o(e){return(0,a.Z)({url:"/table/getList",method:"get",params:e})}function n(e){return(0,a.Z)({url:"/table/doEdit",method:"post",data:e})}function r(e){return(0,a.Z)({url:"/table/doDelete",method:"post",data:e})}},31473:function(e,t,l){l.d(t,{Z:function(){return d}});var a=l(22040),o=(l(3241),l(99426),l(66252));const n={class:"left-panel"};var r=(0,o.aZ)({__name:"VabQueryFormLeftPanel",props:{span:{type:Number,default:14}},setup(e){return(t,l)=>{const r=a.Dv;return(0,o.wg)(),(0,o.j4)(r,{lg:e.span,md:24,sm:24,xl:e.span,xs:24},{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o.WI)(t.$slots,"default")])])),_:3},8,["lg","xl"])}}});function i(e){e.__source="library/components/VabQueryForm/components/VabQueryFormLeftPanel.vue"}"function"===typeof i&&i(r);const u=r;var d=u},48499:function(e,t,l){l.d(t,{Z:function(){return m}});var a=l(22040),o=(l(3241),l(99426),l(66252));const n={class:"top-panel"};function r(e,t){const l=a.Dv;return(0,o.wg)(),(0,o.j4)(l,{span:24},{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o.WI)(e.$slots,"default")])])),_:3})}function i(e){e.__source="library/components/VabQueryForm/components/VabQueryFormTopPanel.vue"}var u=l(83744);const d={};"function"===typeof i&&i(d);const s=(0,u.Z)(d,[["render",r]]);var m=s},18838:function(e,t,l){l.d(t,{Z:function(){return s}});var a=l(73632),o=(l(3241),l(74965),l(66252));function n(e,t){const l=a.dq;return(0,o.wg)(),(0,o.j4)(l,{class:"vab-query-form",gutter:0},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default",{},void 0,!0)])),_:3})}function r(e){e.__source="library/components/VabQueryForm/index.vue"}var i=l(83744);const u={};"function"===typeof r&&r(u);const d=(0,i.Z)(u,[["render",n],["__scopeId","data-v-172989c8"]]);var s=d},31221:function(e,t,l){l.r(t),l.d(t,{default:function(){return N}});var a=l(4350),o=(l(3241),l(91103),l(49676)),n=(l(73204),l(3837)),r=(l(81010),l(76128)),i=(l(74828),l(57534)),u=(l(92471),l(10661)),d=(l(35095),l(85381)),s=(l(68538),l(35756)),m=(l(19414),l(12694)),c=(l(85418),l(50363),l(18838)),p=l(31473),f=l(91557),w=(l(35635),l(48499)),h=l(20129),y=(l(69840),l(15659)),g=(l(10444),l(6589),l(57018)),b=(l(74367),l(66263)),v=(l(33790),l(66252)),W=l(49963),_=l(3577);const F={class:"comprehensive-table-container"},C={key:0},k={key:1};function V(e,t,l,V,q,U){const S=b.v,D=g.EZ,R=h.nH,Z=y.ElButton,$=(0,v.up)("vab-icon"),x=h.ly,z=w.Z,L=f.dQ,E=p.Z,T=c.Z,N=n.$Y,Q=m.xk,j=s.F8,A=d.OX,I=u.Q0,M=i.Ks,P=r.GT,H=n.eI,B=o.R,K=(0,v.up)("edit"),Y=a.t;return(0,v.wg)(),(0,v.iD)("div",F,[(0,v.Wm)(S,{closable:!1,"show-icon":"",title:"三级路由【缓存路由、固定表格高度、并根据窗口大小自适应】的示例。详情页请点击操作列按钮，支持tab多开并高亮左侧菜单",type:"success"}),(0,v.Wm)(T,null,{default:(0,v.w5)((()=>[(0,v.Wm)(z,null,{default:(0,v.w5)((()=>[(0,v.Wm)(x,{inline:"","label-width":"49px",model:e.queryForm,onSubmit:t[11]||(t[11]=(0,W.iM)((()=>{}),["prevent"]))},{default:(0,v.w5)((()=>[(0,v.Wm)(R,{label:"标题"},{default:(0,v.w5)((()=>[(0,v.Wm)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1}),(0,v.Wm)(R,{label:"标题"},{default:(0,v.w5)((()=>[(0,v.Wm)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[1]||(t[1]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1}),(0,v.wy)((0,v.Wm)(R,{label:"标题"},{default:(0,v.w5)((()=>[(0,v.Wm)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[2]||(t[2]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[W.F8,!e.fold]]),(0,v.wy)((0,v.Wm)(R,{label:"标题"},{default:(0,v.w5)((()=>[(0,v.Wm)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[3]||(t[3]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[W.F8,!e.fold]]),(0,v.wy)((0,v.Wm)(R,{label:"标题"},{default:(0,v.w5)((()=>[(0,v.Wm)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[4]||(t[4]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[W.F8,!e.fold]]),(0,v.wy)((0,v.Wm)(R,{label:"标题"},{default:(0,v.w5)((()=>[(0,v.Wm)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[5]||(t[5]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[W.F8,!e.fold]]),(0,v.wy)((0,v.Wm)(R,{label:"标题"},{default:(0,v.w5)((()=>[(0,v.Wm)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[6]||(t[6]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[W.F8,!e.fold]]),(0,v.wy)((0,v.Wm)(R,{label:"标题"},{default:(0,v.w5)((()=>[(0,v.Wm)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[7]||(t[7]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[W.F8,!e.fold]]),(0,v.wy)((0,v.Wm)(R,{label:"标题"},{default:(0,v.w5)((()=>[(0,v.Wm)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[8]||(t[8]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[W.F8,!e.fold]]),(0,v.wy)((0,v.Wm)(R,{label:"标题"},{default:(0,v.w5)((()=>[(0,v.Wm)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[9]||(t[9]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[W.F8,!e.fold]]),(0,v.wy)((0,v.Wm)(R,{label:"标题"},{default:(0,v.w5)((()=>[(0,v.Wm)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[10]||(t[10]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[W.F8,!e.fold]]),(0,v.Wm)(R,null,{default:(0,v.w5)((()=>[(0,v.Wm)(Z,{icon:e.Search,"native-type":"submit",type:"primary",onClick:e.queryData},{default:(0,v.w5)((()=>[(0,v.Uk)(" 查询 ")])),_:1},8,["icon","onClick"]),(0,v.Wm)(Z,{text:"",type:"primary",onClick:e.handleFold},{default:(0,v.w5)((()=>[e.fold?((0,v.wg)(),(0,v.iD)("span",C,"展开")):((0,v.wg)(),(0,v.iD)("span",k,"合并")),(0,v.Wm)($,{class:(0,_.C_)(["vab-dropdown",{"vab-dropdown-active":e.fold}]),icon:"arrow-up-s-line"},null,8,["class"])])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1}),(0,v.Wm)(E,{span:24},{default:(0,v.w5)((()=>[(0,v.Wm)(Z,{icon:e.Plus,type:"primary",onClick:e.handleAdd},{default:(0,v.w5)((()=>[(0,v.Uk)(" 添加 ")])),_:1},8,["icon","onClick"]),(0,v.Wm)(Z,{icon:e.Delete,type:"danger",onClick:t[12]||(t[12]=t=>e.handleDelete(t))},{default:(0,v.w5)((()=>[(0,v.Uk)(" 删除 ")])),_:1},8,["icon"]),(0,v.Wm)(Z,{type:"primary",onClick:e.handleMessage},{default:(0,v.w5)((()=>[(0,v.Uk)(" $baseMessage ")])),_:1},8,["onClick"]),(0,v.Wm)(Z,{type:"primary",onClick:e.handleAlert},{default:(0,v.w5)((()=>[(0,v.Uk)("$baseAlert")])),_:1},8,["onClick"]),(0,v.Wm)(Z,{type:"primary",onClick:e.handleConfirm},{default:(0,v.w5)((()=>[(0,v.Uk)(" $baseConfirm ")])),_:1},8,["onClick"]),(0,v.Wm)(Z,{type:"primary",onClick:e.handleNotify},{default:(0,v.w5)((()=>[(0,v.Uk)("$baseNotify")])),_:1},8,["onClick"]),(0,v.Wm)(Z,{type:"primary",onClick:e.handleDetailStayTable},{default:(0,v.w5)((()=>[(0,v.Uk)(" 停留在本页后台打开详情页后（不常用） ")])),_:1},8,["onClick"]),(0,v.Wm)(L,{class:"item",value:"New"},{default:(0,v.w5)((()=>[(0,v.Wm)(Z,{style:{margin:"0 0 10px !important"},type:"primary",onClick:e.handleDetail},{default:(0,v.w5)((()=>[(0,v.Uk)(" 详情页支持tab多开并高亮左侧菜单 ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,v.wy)(((0,v.wg)(),(0,v.j4)(H,{ref:"tableSortRef",border:"",data:e.list,height:e.height,onSelectionChange:e.setSelectRows,onSortChange:e.tableSortChange},{empty:(0,v.w5)((()=>[(0,v.Wm)(P,{class:"vab-data-empty",description:"暂无数据"})])),default:(0,v.w5)((()=>[(0,v.Wm)(N,{align:"center","show-overflow-tooltip":"",type:"selection",width:"55"}),(0,v.Wm)(N,{align:"center",label:"序号","show-overflow-tooltip":"",width:"55"},{default:(0,v.w5)((({$index:e})=>[(0,v.Uk)((0,_.zw)(e+1),1)])),_:1}),(0,v.Wm)(N,{align:"center",label:"标题",prop:"title","show-overflow-tooltip":""}),(0,v.Wm)(N,{align:"center",label:"作者",prop:"author","show-overflow-tooltip":""}),(0,v.Wm)(N,{align:"center",label:"评级"},{default:(0,v.w5)((({row:e})=>[(0,v.Wm)(Q,{modelValue:e.rate,"onUpdate:modelValue":t=>e.rate=t,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,v.Wm)(N,{align:"center",label:"头像"},{default:(0,v.w5)((({row:t})=>[(0,v.Wm)(j,{"preview-src-list":e.imageList,"preview-teleported":"",src:t.img},null,8,["preview-src-list","src"])])),_:1}),(0,v.Wm)(N,{align:"center",label:"点击量",prop:"pageViews","show-overflow-tooltip":"",sortable:""}),(0,v.Wm)(N,{align:"center",label:"开关",prop:"switch","show-overflow-tooltip":""},{default:(0,v.w5)((({row:e})=>[(0,v.Wm)(I,{content:0===e.switch?"点击开启":"点击关闭",enterable:!1,placement:"top"},{default:(0,v.w5)((()=>[(0,v.Wm)(A,{modelValue:e.switch,"onUpdate:modelValue":t=>e.switch=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["content"])])),_:1}),(0,v.Wm)(N,{align:"center",label:"状态","show-overflow-tooltip":""},{default:(0,v.w5)((({row:t})=>[(0,v.Wm)(I,{class:"item",content:t.status,effect:"dark",placement:"top-start"},{default:(0,v.w5)((()=>[(0,v.Wm)(M,{type:e.statusFilter(t.status)},{default:(0,v.w5)((()=>[(0,v.Uk)((0,_.zw)(t.status),1)])),_:2},1032,["type"])])),_:2},1032,["content"])])),_:1}),(0,v.Wm)(N,{align:"center",label:"时间",prop:"datetime","show-overflow-tooltip":"",width:"200"}),(0,v.Wm)(N,{align:"center",fixed:"right",label:"操作","show-overflow-tooltip":"",width:"200"},{default:(0,v.w5)((({row:t})=>[(0,v.Wm)(Z,{text:"",type:"primary",onClick:l=>e.handleDetail(t)},{default:(0,v.w5)((()=>[(0,v.Uk)(" 详情 ")])),_:2},1032,["onClick"]),(0,v.Wm)(Z,{text:"",type:"primary",onClick:l=>e.handleEdit(t)},{default:(0,v.w5)((()=>[(0,v.Uk)(" 编辑 ")])),_:2},1032,["onClick"]),(0,v.Wm)(Z,{text:"",type:"primary",onClick:l=>e.handleDelete(t)},{default:(0,v.w5)((()=>[(0,v.Uk)(" 删除 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","height","onSelectionChange","onSortChange"])),[[Y,e.listLoading]]),(0,v.Wm)(B,{background:"","current-page":e.queryForm.pageNo,layout:e.layout,"page-size":e.queryForm.pageSize,total:e.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","layout","page-size","total","onCurrentChange","onSizeChange"]),(0,v.Wm)(K,{ref:"editRef",onFetchData:e.fetchData},null,8,["onFetchData"])])}l(57658);var q=l(91536),U=l(32575),S=l(55034),D=l(19635),R=l(65781),Z=l(2262),$=l(22201),x=l(47720),z=(0,v.aZ)({name:"ComprehensiveTable",components:{Edit:(0,v.RC)((()=>l.e(4773).then(l.bind(l,82730))))},setup(){const e=(0,$.tv)(),t=(0,v.f3)("$baseConfirm"),l=(0,v.f3)("$baseMessage"),a=(0,v.f3)("$baseAlert"),o=(0,v.f3)("$baseNotify"),n=(0,v.f3)("$baseTableHeight"),r=(0,U.Y)(),{getRoutes:i}=(0,x.Jk)(r),u=(0,q.I)(),{changeTabsMeta:d,addVisitedRoute:s}=u,m=(0,Z.qj)({editRef:null,tableSortRef:null,fold:!1,height:n(3)-30,list:[],imageList:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:"",queryForm:{pageNo:1,pageSize:10}});(0,v.dl)((()=>{m["tableSortRef"].doLayout(),c()}));const c=async()=>{m.listLoading=!0;const{data:{list:e,total:t}}=await(0,S.gp)(m.queryForm);m.list=e;const l=[];e.forEach((e=>{l.push(e.img)})),m.imageList=l,m.total=t,m.listLoading=!1,setTimeout((()=>{N([m.list[0]])}),0)},p=e=>{m.queryForm.pageSize=e,c()},f=e=>{m.queryForm.pageNo=e,c()},w=()=>{m.queryForm.pageNo=1,c()},h=e=>{const t={published:"success",draft:"",deleted:"danger"};return t[e]},y=()=>{m.fold=!m.fold,g()},g=()=>{m.fold?m.height=n(2)-47:m.height=n(3)-30},b=()=>{const e=[];m.list.forEach((t=>{e.push(t.img)})),m.imageList=e},W=e=>{m.selectRows=e},_=()=>{m["editRef"].showEdit()},F=e=>{m["editRef"].showEdit(e)},C=e=>{if(e.id)t("你确定要删除当前项吗",null,(async()=>{const{msg:t}=await(0,S.q1)({ids:e.id});l(t,"success","vab-hey-message-success"),await c()}));else if(m.selectRows.length>0){const e=m.selectRows.map((e=>e.id)).join();t("你确定要删除选中项吗",null,(async()=>{const{msg:t}=await(0,S.q1)({ids:e});l(t,"success","vab-hey-message-success"),await c()}))}else l("未选中任何行","error","vab-hey-message-error")},k=async()=>{for(let e=0;e<m.selectRows.length;e++){const t=(0,D.vq)(i.value,"/vab/table/detail"),l=(0,D.mk)({...t[t.length-1],query:m.selectRows[e]});l&&(await s(l),await d({title:"详情页",meta:{title:`${l.query.title} 详情页`}}))}},V=t=>{t.id?e.push({path:"/vab/table/detail",query:{...t,timestamp:(new Date).getTime()}}):1===m.selectRows.length?e.push({path:"/vab/table/detail",query:{...m.selectRows[0],timestamp:(new Date).getTime()}}):l("请选择一行进行详情页跳转","error","vab-hey-message-error")},z=()=>{l("test1","success",!1,"vab-hey-message-success")},L=()=>{a("11")},E=()=>{t("你确定要执行该操作?",null,(()=>{}),(()=>{}))},T=()=>{o("测试消息提示","test","success","bottom-right")},N=e=>{e?e.forEach((e=>{m["tableSortRef"].toggleRowSelection(e)})):m["tableSortRef"].clearSelection()};return(0,v.wF)((()=>{window.addEventListener("resize",g)})),(0,v.Ah)((()=>{window.removeEventListener("resize",g)})),(0,v.bv)((()=>{c()})),{...(0,Z.BK)(m),handleSizeChange:p,handleCurrentChange:f,queryData:w,statusFilter:h,handleFold:y,handleHeight:g,tableSortChange:b,setSelectRows:W,handleAdd:_,handleEdit:F,handleDelete:C,handleDetailStayTable:k,handleDetail:V,handleMessage:z,handleAlert:L,handleConfirm:E,handleNotify:T,fetchData:c,Delete:R.Delete,Plus:R.Plus,Search:R.Search}}});function L(e){e.__source="src/views/vab/table/comprehensiveTable.vue"}var E=l(83744);"function"===typeof L&&L(z);const T=(0,E.Z)(z,[["render",V]]);var N=T}}]);